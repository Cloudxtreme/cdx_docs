wajig install libnss-ldap -y
   ldapi://
   dc=cardiodx,dc=com
   version: 3
   Make local root Database admin: yes
   Does LDAP database require login? No
   LDAP account for root: cn=admin,dc=cardiodx,dc=com
      secret07

--more /etc/ldap.conf
grep -v '^#' /etc/ldap.conf | grep -v '^$'
base dc=cardiodx,dc=com
uri ldapi:///
ldap_version 3
rootbinddn cn=admin,dc=cardiodx,dc=com
pam_password md5

-- reconfigure if needed
dpkg-reconfigure ldap-auth-config

auth-client-config -t nss -p lac_ldap
pam-auth-update

wajig install ldapscripts -y

vi /etc/ldapscripts/ldapscripts.conf
#SERVER="ldap://ldaptest.cardiodx.com"
#SERVER="ldaps://ldaptest.cardiodx.com"
SERVER="ldap://localhost"
BINDDN="cn=admin,dc=cardiodx,dc=com"
BINDPWDFILE="/etc/ldapscripts/ldapscripts.passwd"
SUFFIX="dc=cardiodx,dc=com" 
GSUFFIX="ou=Groups"        
USUFFIX="ou=People"         
MSUFFIX="ou=Computers"      
GIDSTART="10000" 
UIDSTART="10000" 
MIDSTART="10000" 

sh -c "echo -n 'secret07' > /etc/ldapscripts/ldapscripts.passwd"
chmod 400 /etc/ldapscripts/ldapscripts.passwd

ldapaddgroup it
ldapadduser chialin it
ldapsetpasswd chialin
  Changing password for user uid=chialin,ou=People,dc=cardiodx,dc=com
  secret07

su - chialin
ssh chialin@ldaptest

(See ldap_auth.rb to test bounding)

~~~~~~~~~~~~~~~~~~~~~~~~~~~~
--
-- connect remotely through ldaps
--
vi /etc/ldap.conf
#uri ldapi:///
uri ldaps://ldaptest.cardiodx.com

root@ldaptest:~# ssh chialin@ldaptest
chialin@ldaptest's password: (secret07)


