
ldapsearch -LLL -Y EXTERNAL -H ldapi:/// -b cn=config olcAccess


--ldapsearch -xLLL -b cn=config -D cn=admin,cn=config -W olcDatabase=hdb olcAccess

ldapsearch -LLL -Y EXTERNAL -H ldapi:/// -b cn=config -W olcDatabase=hdb olcAccess
Enter LDAP Password: 


SASL/EXTERNAL authentication started
SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth
SASL SSF: 0
dn: olcDatabase={1}hdb,cn=config
olcAccess: {0}to attrs=userPassword by dn="cn=admin,dc=cardiodx,dc=com" write 
 by anonymous auth by self write by * none
olcAccess: {1}to attrs=shadowLastChange by self write by * read
olcAccess: {2}to dn.base="" by * read
olcAccess: {3}to * by dn="cn=admin,dc=cardiodx,dc=com" write by * read



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

cat > acl.ldif <<EOF
dn: olcDatabase={1}hdb,cn=config
add: olcAccess
olcAccess: {0}to attrs=userPassword,shadowLastChange by dn=uid=admin,ou=People,dc=cardiodx,dc=com write by anonymous auth by self write by * none
olcAccess: {1}to dn.subtree="" by * read
olcAccess: {2}to * by dn=uid=admin,ou=People,dc=cardiodx,dc=com write by * read
EOF

ldapmodify -Y EXTERNAL -H ldapi:/// -f acl.ldif 



