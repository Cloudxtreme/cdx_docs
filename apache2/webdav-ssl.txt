

see also: apache2_ssl.txt

cd /etc/apache2
mkdir ssl
cd ssl

copy certificates, keys, etc.
  - wildcard.cardiodx.com.crt
  - wildcard.cardiodx.com.key
  - gd_intermediate_bundle.crt
  from pdc:/data/samba/groups/it/Private/ssl/wildcard to ssl dir

chown www-data *
chmod 640 wildcard.cardiodx.com.key 



# diff default default.sav1 
<VirtualHost *:80>
  RewriteEngine   on
  RewriteCond     %{SERVER_PORT} ^80$
  RewriteRule     ^(.*)$ https://%{SERVER_NAME}$1 [L,R]
</VirtualHost>

<VirtualHost *:443>
	ServerAdmin webmaster@localhost
	ServerName webdav.cardiodx.com
    SSLEngine on
    SSLCertificateFile /etc/apache2/ssl/wildcard.cardiodx.com.crt
    SSLCertificateKeyFile /etc/apache2/ssl/wildcard.cardiodx.com.key

    Alias /webdav /var/www/web1/web

    <Location /webdav>
      DAV On
      AuthType Basic
      AuthName "webdav"
      AuthUserFile /var/www/web1/passwd.dav
      Require valid-user
    </Location>

</VirtualHost>



a2enmod rewrite
a2enmod ssl

/etc/init.d/apache start

