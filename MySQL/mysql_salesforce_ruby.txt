#!/usr/bin/ruby

require 'rubygems'
gem 'activerecord', '= 2.3.8'
gem 'mysql', '= 2.8.1'
require 'active_record'

class Salesforce < ActiveRecord::Base
   self.abstract_class = true
   salesforce = YAML.load(File.open("/home/rails/dashboard/config/database.yml","r"))["salesforce"]
   establish_connection(salesforce)
end

ActiveRecord::Base.establish_connection(  
	:adapter => "mysql",  
	:host => "localhost",  
	:database => "dashboard",
	:username => "root",
	:password => "secret07"
)  

#
class TrfFact < ActiveRecord::Base 
	self.pluralize_table_names = false
end

fact = TrfFact.find(:first)
puts fact.trf

exit

#
class PatientCase < Salesforce; include ActiveSalesforce::ActiveRecord::Mixin; set_table_name('PatientCase__c'); end
pcs = PatientCase.find_by_sql('select id from PatientCase__c')
pcs.each do |pc|
	puts pc.id
end



